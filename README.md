## Refactor consider points:

- Extract a common private method to avoid duplicate
- Rename method and variable to make code more precise and clear
- Adjust the order of some statements to make code easier to read
- Add comments to explain the purpose of the methods to make code more understandable
- Implement dependency injection, provide the database as a parameter to improve ease of testing
